---
import { Icon } from "astro-icon/components";

export interface Props {
  threshold?: number;
  class?: string;
}

const {
  threshold = 300,
  class: extraClass = "",
} = Astro.props;
---

<button
  type="button"
  x-data=`{ show: false }`
  @scroll.window={`show = (window.pageYOffset > ${threshold})`}
  x-show="show"
  x-transition:enter="transition ease-out duration-300"
  x-transition:enter-start="opacity-0 scale-90"
  x-transition:enter-end="opacity-100 scale-100"
  x-transition:leave="transition ease-in duration-200"
  x-transition:leave-start="opacity-100 scale-100"
  x-transition:leave-end="opacity-0 scale-90"
  @click="window.scrollTo({ top: 0, behavior: 'smooth' })"
  aria-label="Back to top"
  class={`fixed bottom-4 right-4 w-12 h-12 md:w-14 md:h-14 bg-primary hover:bg-primary-dark text-white rounded-full shadow-2xl flex items-center justify-center z-50 transition-colors duration-300 ${extraClass}`}
  style="display: none;"
>
  <Icon name="bi:arrow-up" class="w-5 h-5 md:w-6 md:h-6" />
</button>
---
import { Icon } from "astro-icon/components";
import type { CollectionEntry } from "astro:content";

export interface Props {
  equipment: CollectionEntry<"equipment">;
}

const { equipment } = Astro.props;
const { data, slug } = equipment;
---

<div class="equipment-card bg-white rounded-xl overflow-hidden shadow-lg group">
  <div class="relative overflow-hidden">
    <a href={`/equipment/${slug}`}>
      <img 
        src={data.cover} 
        alt={data.title}
        class="w-full h-64 object-cover group-hover:scale-110 transition duration-500"
        loading="lazy"
      />
    </a>
    <div class="absolute top-4 right-4 bg-primary text-white px-4 py-2 rounded-lg font-bold shadow-lg">
      ${data.pricing.daily}/day
    </div>
  </div>
  
  <div class="p-6">
    <div class="flex items-center gap-2 text-sm text-steel-gray mb-3">
      <span class="bg-primary-soft text-primary-dark px-3 py-1 rounded-full font-semibold">
        {data.label}
      </span>
      <span>{data.model}</span>
    </div>
    
    <h3 class="text-2xl font-bold text-dark mb-3">
      <a href={`/equipment/${slug}`} class="hover:text-primary transition">
        {data.title}
      </a>
    </h3>
    
    <div class="flex items-center gap-4 text-sm text-steel-gray mb-4">
      <span class="flex items-center gap-1">
        <Icon name="bi:speedometer2" class="text-primary" />
        {data.weight}
      </span>
      <span class="flex items-center gap-1">
        <Icon name="bi:calendar-check" class="text-primary" />
        {data.year}
      </span>
    </div>
    
    <a 
      href={data.cta.link}
      class="w-full bg-dark hover:bg-primary text-white px-6 py-3 flex items-center justify-center gap-2 rounded-lg font-semibold transition"
    >
      <Icon name="bi:calculator" />
      {data.cta.text}
    </a>
  </div>
</div>